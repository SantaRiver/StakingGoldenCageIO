# StakingGoldenCageIO

Ну, собственно, в проекте предоставлена система авторизации, стекинга и вывода валюты.

Авторизация работает при помощи библиотеки waxjs (можно использовать eosjs, почти тоже самое). После авторизации через waxjs приходят два ключа и имя кошелька. Авторизация на сайте происходит с использованием этих ключей и кошелька. 

Стейкинг работает таким образом:

Предварительно мы парсим коллекцию и собираем все карточки которые есть у коллекции. Далее для каждой карточки мы объявляем staking rate. Это некий коэффициент значимости карточки. Чем он выше, тем больше приносит. Далее раз в час (а так же при создании нового пользователя) происходит просмотр карточек пользователя. Это дело записывается. После мы высчисляем суммарный стейкинг рейт всех карточек. Это нужно для того, что бы в дальнейщем посчитать, сколько приносит 1 условная единица стейкинг рейта. Далее мы получаем размер нашего "пула". Его размер получается на внешнем сервере. После имея на руках размер пула и суммарный стекинг рейт мы считаем:

`1у.е. стейкинг рейта  =  (Размер пула / Суммарный стейкинг рейт) / 168`

где 168 - это кол-во часов в неделю

После этого каждой карточке присваиваем, сколько WAX она приносит в час. Все готово. Каждый час будет пополнение внутреннего кошелька пользователя на указанную сумму.

Вывод работает с помощью внешнего сервера. Туда отправляется запрос. Приходит ответ. Все просто.

 
